{"ast":null,"code":"import * as React from 'react';\nimport { usePrevious, useResizeListener, useEventListener, useMountEffect, useUpdateEffect } from 'primereact/hooks';\nimport { ObjectUtils, DomHandler, classNames, IconUtils } from 'primereact/utils';\nimport { SpinnerIcon } from 'primereact/icons/spinner';\nfunction _extends() {\n  _extends = Object.assign ? Object.assign.bind() : function (target) {\n    for (var i = 1; i < arguments.length; i++) {\n      var source = arguments[i];\n      for (var key in source) {\n        if (Object.prototype.hasOwnProperty.call(source, key)) {\n          target[key] = source[key];\n        }\n      }\n    }\n    return target;\n  };\n  return _extends.apply(this, arguments);\n}\nfunction _typeof(obj) {\n  \"@babel/helpers - typeof\";\n\n  return _typeof = \"function\" == typeof Symbol && \"symbol\" == typeof Symbol.iterator ? function (obj) {\n    return typeof obj;\n  } : function (obj) {\n    return obj && \"function\" == typeof Symbol && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj;\n  }, _typeof(obj);\n}\nfunction _toPrimitive(input, hint) {\n  if (_typeof(input) !== \"object\" || input === null) return input;\n  var prim = input[Symbol.toPrimitive];\n  if (prim !== undefined) {\n    var res = prim.call(input, hint || \"default\");\n    if (_typeof(res) !== \"object\") return res;\n    throw new TypeError(\"@@toPrimitive must return a primitive value.\");\n  }\n  return (hint === \"string\" ? String : Number)(input);\n}\nfunction _toPropertyKey(arg) {\n  var key = _toPrimitive(arg, \"string\");\n  return _typeof(key) === \"symbol\" ? key : String(key);\n}\nfunction _defineProperty(obj, key, value) {\n  key = _toPropertyKey(key);\n  if (key in obj) {\n    Object.defineProperty(obj, key, {\n      value: value,\n      enumerable: true,\n      configurable: true,\n      writable: true\n    });\n  } else {\n    obj[key] = value;\n  }\n  return obj;\n}\nfunction _arrayWithHoles(arr) {\n  if (Array.isArray(arr)) return arr;\n}\nfunction _iterableToArrayLimit(arr, i) {\n  var _i = null == arr ? null : \"undefined\" != typeof Symbol && arr[Symbol.iterator] || arr[\"@@iterator\"];\n  if (null != _i) {\n    var _s,\n      _e,\n      _x,\n      _r,\n      _arr = [],\n      _n = !0,\n      _d = !1;\n    try {\n      if (_x = (_i = _i.call(arr)).next, 0 === i) {\n        if (Object(_i) !== _i) return;\n        _n = !1;\n      } else for (; !(_n = (_s = _x.call(_i)).done) && (_arr.push(_s.value), _arr.length !== i); _n = !0);\n    } catch (err) {\n      _d = !0, _e = err;\n    } finally {\n      try {\n        if (!_n && null != _i[\"return\"] && (_r = _i[\"return\"](), Object(_r) !== _r)) return;\n      } finally {\n        if (_d) throw _e;\n      }\n    }\n    return _arr;\n  }\n}\nfunction _arrayLikeToArray(arr, len) {\n  if (len == null || len > arr.length) len = arr.length;\n  for (var i = 0, arr2 = new Array(len); i < len; i++) arr2[i] = arr[i];\n  return arr2;\n}\nfunction _unsupportedIterableToArray(o, minLen) {\n  if (!o) return;\n  if (typeof o === \"string\") return _arrayLikeToArray(o, minLen);\n  var n = Object.prototype.toString.call(o).slice(8, -1);\n  if (n === \"Object\" && o.constructor) n = o.constructor.name;\n  if (n === \"Map\" || n === \"Set\") return Array.from(o);\n  if (n === \"Arguments\" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return _arrayLikeToArray(o, minLen);\n}\nfunction _nonIterableRest() {\n  throw new TypeError(\"Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\");\n}\nfunction _slicedToArray(arr, i) {\n  return _arrayWithHoles(arr) || _iterableToArrayLimit(arr, i) || _unsupportedIterableToArray(arr, i) || _nonIterableRest();\n}\nvar VirtualScrollerBase = {\n  defaultProps: {\n    __TYPE: 'VirtualScroller',\n    id: null,\n    style: null,\n    className: null,\n    tabIndex: 0,\n    items: null,\n    itemSize: 0,\n    scrollHeight: null,\n    scrollWidth: null,\n    orientation: 'vertical',\n    step: 0,\n    numToleratedItems: null,\n    delay: 0,\n    resizeDelay: 10,\n    appendOnly: false,\n    inline: false,\n    lazy: false,\n    disabled: false,\n    loaderDisabled: false,\n    loadingIcon: null,\n    columns: null,\n    loading: undefined,\n    autoSize: false,\n    showSpacer: true,\n    showLoader: false,\n    loadingTemplate: null,\n    loaderIconTemplate: null,\n    itemTemplate: null,\n    contentTemplate: null,\n    onScroll: null,\n    onScrollIndexChange: null,\n    onLazyLoad: null,\n    children: undefined\n  },\n  getProps: function getProps(props) {\n    return ObjectUtils.getMergedProps(props, VirtualScrollerBase.defaultProps);\n  },\n  getOtherProps: function getOtherProps(props) {\n    return ObjectUtils.getDiffProps(props, VirtualScrollerBase.defaultProps);\n  }\n};\nfunction ownKeys(object, enumerableOnly) {\n  var keys = Object.keys(object);\n  if (Object.getOwnPropertySymbols) {\n    var symbols = Object.getOwnPropertySymbols(object);\n    enumerableOnly && (symbols = symbols.filter(function (sym) {\n      return Object.getOwnPropertyDescriptor(object, sym).enumerable;\n    })), keys.push.apply(keys, symbols);\n  }\n  return keys;\n}\nfunction _objectSpread(target) {\n  for (var i = 1; i < arguments.length; i++) {\n    var source = null != arguments[i] ? arguments[i] : {};\n    i % 2 ? ownKeys(Object(source), !0).forEach(function (key) {\n      _defineProperty(target, key, source[key]);\n    }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)) : ownKeys(Object(source)).forEach(function (key) {\n      Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key));\n    });\n  }\n  return target;\n}\nvar VirtualScroller = /*#__PURE__*/React.memo( /*#__PURE__*/React.forwardRef(function (inProps, ref) {\n  var props = VirtualScrollerBase.getProps(inProps);\n  var prevProps = usePrevious(inProps) || {};\n  var vertical = props.orientation === 'vertical';\n  var horizontal = props.orientation === 'horizontal';\n  var both = props.orientation === 'both';\n  var _React$useState = React.useState(both ? {\n      rows: 0,\n      cols: 0\n    } : 0),\n    _React$useState2 = _slicedToArray(_React$useState, 2),\n    firstState = _React$useState2[0],\n    setFirstState = _React$useState2[1];\n  var _React$useState3 = React.useState(both ? {\n      rows: 0,\n      cols: 0\n    } : 0),\n    _React$useState4 = _slicedToArray(_React$useState3, 2),\n    lastState = _React$useState4[0],\n    setLastState = _React$useState4[1];\n  var _React$useState5 = React.useState(0),\n    _React$useState6 = _slicedToArray(_React$useState5, 2),\n    pageState = _React$useState6[0],\n    setPageState = _React$useState6[1];\n  var _React$useState7 = React.useState(both ? {\n      rows: 0,\n      cols: 0\n    } : 0),\n    _React$useState8 = _slicedToArray(_React$useState7, 2),\n    numItemsInViewportState = _React$useState8[0],\n    setNumItemsInViewportState = _React$useState8[1];\n  var _React$useState9 = React.useState(props.numToleratedItems),\n    _React$useState10 = _slicedToArray(_React$useState9, 2),\n    numToleratedItemsState = _React$useState10[0],\n    setNumToleratedItemsState = _React$useState10[1];\n  var _React$useState11 = React.useState(props.loading || false),\n    _React$useState12 = _slicedToArray(_React$useState11, 2),\n    loadingState = _React$useState12[0],\n    setLoadingState = _React$useState12[1];\n  var _React$useState13 = React.useState([]),\n    _React$useState14 = _slicedToArray(_React$useState13, 2),\n    loaderArrState = _React$useState14[0],\n    setLoaderArrState = _React$useState14[1];\n  var elementRef = React.useRef(null);\n  var _contentRef = React.useRef(null);\n  var _spacerRef = React.useRef(null);\n  var _stickyRef = React.useRef(null);\n  var lastScrollPos = React.useRef(both ? {\n    top: 0,\n    left: 0\n  } : 0);\n  var scrollTimeout = React.useRef(null);\n  var resizeTimeout = React.useRef(null);\n  var contentStyle = React.useRef({});\n  var spacerStyle = React.useRef({});\n  var defaultWidth = React.useRef(null);\n  var defaultHeight = React.useRef(null);\n  var defaultContentWidth = React.useRef(null);\n  var defaultContentHeight = React.useRef(null);\n  var isItemRangeChanged = React.useRef(false);\n  var lazyLoadState = React.useRef(null);\n  var _useResizeListener = useResizeListener({\n      listener: function listener(event) {\n        return onResize();\n      },\n      when: !props.disabled\n    }),\n    _useResizeListener2 = _slicedToArray(_useResizeListener, 1),\n    bindWindowResizeListener = _useResizeListener2[0];\n  var _useEventListener = useEventListener({\n      target: 'window',\n      type: 'orientationchange',\n      listener: function listener(event) {\n        return onResize();\n      },\n      when: !props.disabled\n    }),\n    _useEventListener2 = _slicedToArray(_useEventListener, 1),\n    bindOrientationChangeListener = _useEventListener2[0];\n  var getElementRef = function getElementRef() {\n    return elementRef;\n  };\n  var getPageByFirst = function getPageByFirst(first) {\n    return Math.floor((first + numToleratedItemsState * 4) / (props.step || 1));\n  };\n  var setContentElement = function setContentElement(element) {\n    _contentRef.current = element || _contentRef.current || DomHandler.findSingle(elementRef.current, '.p-virtualscroller-content');\n  };\n  var isPageChanged = function isPageChanged(first) {\n    return props.step ? pageState !== getPageByFirst(first) : true;\n  };\n  var scrollTo = function scrollTo(options) {\n    lastScrollPos.current = both ? {\n      top: 0,\n      left: 0\n    } : 0;\n    elementRef.current && elementRef.current.scrollTo(options);\n  };\n  var scrollToIndex = function scrollToIndex(index) {\n    var behavior = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 'auto';\n    var _calculateNumItems = calculateNumItems(),\n      numToleratedItems = _calculateNumItems.numToleratedItems;\n    var contentPos = getContentPosition();\n    var calculateFirst = function calculateFirst() {\n      var _index = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : 0;\n      var _numT = arguments.length > 1 ? arguments[1] : undefined;\n      return _index <= _numT ? 0 : _index;\n    };\n    var calculateCoord = function calculateCoord(_first, _size, _cpos) {\n      return _first * _size + _cpos;\n    };\n    var scrollToItem = function scrollToItem() {\n      var left = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : 0;\n      var top = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 0;\n      return scrollTo({\n        left: left,\n        top: top,\n        behavior: behavior\n      });\n    };\n    var newFirst = both ? {\n      rows: 0,\n      cols: 0\n    } : 0;\n    var isRangeChanged = false;\n    if (both) {\n      newFirst = {\n        rows: calculateFirst(index[0], numToleratedItems[0]),\n        cols: calculateFirst(index[1], numToleratedItems[1])\n      };\n      scrollToItem(calculateCoord(newFirst.cols, props.itemSize[1], contentPos.left), calculateCoord(newFirst.rows, props.itemSize[0], contentPos.top));\n      isRangeChanged = firstState.rows !== newFirst.rows || firstState.cols !== newFirst.cols;\n    } else {\n      newFirst = calculateFirst(index, numToleratedItems);\n      horizontal ? scrollToItem(calculateCoord(newFirst, props.itemSize, contentPos.left), 0) : scrollToItem(0, calculateCoord(newFirst, props.itemSize, contentPos.top));\n      isRangeChanged = firstState !== newFirst;\n    }\n    isItemRangeChanged.current = isRangeChanged;\n    setFirstState(newFirst);\n  };\n  var scrollInView = function scrollInView(index, to) {\n    var behavior = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : 'auto';\n    if (to) {\n      var _getRenderedRange = getRenderedRange(),\n        first = _getRenderedRange.first,\n        viewport = _getRenderedRange.viewport;\n      var scrollToItem = function scrollToItem() {\n        var left = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : 0;\n        var top = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 0;\n        return scrollTo({\n          left: left,\n          top: top,\n          behavior: behavior\n        });\n      };\n      var isToStart = to === 'to-start';\n      var isToEnd = to === 'to-end';\n      if (isToStart) {\n        if (both) {\n          if (viewport.first.rows - first.rows > index[0]) {\n            scrollToItem(viewport.first.cols * props.itemSize[1], (viewport.first.rows - 1) * props.itemSize[0]);\n          } else if (viewport.first.cols - first.cols > index[1]) {\n            scrollToItem((viewport.first.cols - 1) * props.itemSize[1], viewport.first.rows * props.itemSize[0]);\n          }\n        } else {\n          if (viewport.first - first > index) {\n            var pos = (viewport.first - 1) * props.itemSize;\n            horizontal ? scrollToItem(pos, 0) : scrollToItem(0, pos);\n          }\n        }\n      } else if (isToEnd) {\n        if (both) {\n          if (viewport.last.rows - first.rows <= index[0] + 1) {\n            scrollToItem(viewport.first.cols * props.itemSize[1], (viewport.first.rows + 1) * props.itemSize[0]);\n          } else if (viewport.last.cols - first.cols <= index[1] + 1) {\n            scrollToItem((viewport.first.cols + 1) * props.itemSize[1], viewport.first.rows * props.itemSize[0]);\n          }\n        } else {\n          if (viewport.last - first <= index + 1) {\n            var _pos2 = (viewport.first + 1) * props.itemSize;\n            horizontal ? scrollToItem(_pos2, 0) : scrollToItem(0, _pos2);\n          }\n        }\n      }\n    } else {\n      scrollToIndex(index, behavior);\n    }\n  };\n  var getRows = function getRows() {\n    return loadingState ? props.loaderDisabled ? loaderArrState : [] : loadedItems();\n  };\n  var getColumns = function getColumns() {\n    if (props.columns && both || horizontal) {\n      return loadingState && props.loaderDisabled ? both ? loaderArrState[0] : loaderArrState : props.columns.slice(both ? firstState.cols : firstState, both ? lastState.cols : lastState);\n    }\n    return props.columns;\n  };\n  var getRenderedRange = function getRenderedRange() {\n    var calculateFirstInViewport = function calculateFirstInViewport(_pos, _size) {\n      return Math.floor(_pos / (_size || _pos));\n    };\n    var firstInViewport = firstState;\n    var lastInViewport = 0;\n    if (elementRef.current) {\n      var _elementRef$current = elementRef.current,\n        scrollTop = _elementRef$current.scrollTop,\n        scrollLeft = _elementRef$current.scrollLeft;\n      if (both) {\n        firstInViewport = {\n          rows: calculateFirstInViewport(scrollTop, props.itemSize[0]),\n          cols: calculateFirstInViewport(scrollLeft, props.itemSize[1])\n        };\n        lastInViewport = {\n          rows: firstInViewport.rows + numItemsInViewportState.rows,\n          cols: firstInViewport.cols + numItemsInViewportState.cols\n        };\n      } else {\n        var scrollPos = horizontal ? scrollLeft : scrollTop;\n        firstInViewport = calculateFirstInViewport(scrollPos, props.itemSize);\n        lastInViewport = firstInViewport + numItemsInViewportState;\n      }\n    }\n    return {\n      first: firstState,\n      last: lastState,\n      viewport: {\n        first: firstInViewport,\n        last: lastInViewport\n      }\n    };\n  };\n  var calculateNumItems = function calculateNumItems() {\n    var contentPos = getContentPosition();\n    var contentWidth = elementRef.current ? elementRef.current.offsetWidth - contentPos.left : 0;\n    var contentHeight = elementRef.current ? elementRef.current.offsetHeight - contentPos.top : 0;\n    var calculateNumItemsInViewport = function calculateNumItemsInViewport(_contentSize, _itemSize) {\n      return Math.ceil(_contentSize / (_itemSize || _contentSize));\n    };\n    var calculateNumToleratedItems = function calculateNumToleratedItems(_numItems) {\n      return Math.ceil(_numItems / 2);\n    };\n    var numItemsInViewport = both ? {\n      rows: calculateNumItemsInViewport(contentHeight, props.itemSize[0]),\n      cols: calculateNumItemsInViewport(contentWidth, props.itemSize[1])\n    } : calculateNumItemsInViewport(horizontal ? contentWidth : contentHeight, props.itemSize);\n    var numToleratedItems = numToleratedItemsState || (both ? [calculateNumToleratedItems(numItemsInViewport.rows), calculateNumToleratedItems(numItemsInViewport.cols)] : calculateNumToleratedItems(numItemsInViewport));\n    return {\n      numItemsInViewport: numItemsInViewport,\n      numToleratedItems: numToleratedItems\n    };\n  };\n  var calculateOptions = function calculateOptions() {\n    var _calculateNumItems2 = calculateNumItems(),\n      numItemsInViewport = _calculateNumItems2.numItemsInViewport,\n      numToleratedItems = _calculateNumItems2.numToleratedItems;\n    var calculateLast = function calculateLast(_first, _num, _numT) {\n      var _isCols = arguments.length > 3 && arguments[3] !== undefined ? arguments[3] : false;\n      return getLast(_first + _num + (_first < _numT ? 2 : 3) * _numT, _isCols);\n    };\n    var last = both ? {\n      rows: calculateLast(firstState.rows, numItemsInViewport.rows, numToleratedItems[0]),\n      cols: calculateLast(firstState.cols, numItemsInViewport.cols, numToleratedItems[1], true)\n    } : calculateLast(firstState, numItemsInViewport, numToleratedItems);\n    setNumItemsInViewportState(numItemsInViewport);\n    setNumToleratedItemsState(numToleratedItems);\n    setLastState(last);\n    if (props.showLoader) {\n      setLoaderArrState(both ? Array.from({\n        length: numItemsInViewport.rows\n      }).map(function () {\n        return Array.from({\n          length: numItemsInViewport.cols\n        });\n      }) : Array.from({\n        length: numItemsInViewport\n      }));\n    }\n    if (props.lazy) {\n      Promise.resolve().then(function () {\n        lazyLoadState.current = {\n          first: props.step ? both ? {\n            rows: 0,\n            cols: firstState.cols\n          } : 0 : firstState,\n          last: Math.min(props.step ? props.step : last, props.items.length)\n        };\n        props.onLazyLoad && props.onLazyLoad(lazyLoadState.current);\n      });\n    }\n  };\n  var calculateAutoSize = function calculateAutoSize(loading) {\n    if (props.autoSize && !loading) {\n      Promise.resolve().then(function () {\n        if (_contentRef.current) {\n          _contentRef.current.style.minHeight = _contentRef.current.style.minWidth = 'auto';\n          _contentRef.current.style.position = 'relative';\n          elementRef.current.style.contain = 'none';\n\n          /*const [contentWidth, contentHeight] = [DomHandler.getWidth(contentRef.current), DomHandler.getHeight(contentRef.current)];\n           contentWidth !== defaultContentWidth.current && (elementRef.current.style.width = '');\n          contentHeight !== defaultContentHeight.current && (elementRef.current.style.height = '');*/\n\n          var _ref = [DomHandler.getWidth(elementRef.current), DomHandler.getHeight(elementRef.current)],\n            width = _ref[0],\n            height = _ref[1];\n          (both || horizontal) && (elementRef.current.style.width = (width < defaultWidth.current ? width : props.scrollWidth || defaultWidth.current) + 'px');\n          (both || vertical) && (elementRef.current.style.height = (height < defaultHeight.current ? height : props.scrollHeight || defaultHeight.current) + 'px');\n          _contentRef.current.style.minHeight = _contentRef.current.style.minWidth = '';\n          _contentRef.current.style.position = '';\n          elementRef.current.style.contain = '';\n        }\n      });\n    }\n  };\n  var getLast = function getLast() {\n    var last = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : 0;\n    var isCols = arguments.length > 1 ? arguments[1] : undefined;\n    return props.items ? Math.min(isCols ? (props.columns || props.items[0]).length : props.items.length, last) : 0;\n  };\n  var getContentPosition = function getContentPosition() {\n    if (_contentRef.current) {\n      var style = getComputedStyle(_contentRef.current);\n      var left = parseFloat(style.paddingLeft) + Math.max(parseFloat(style.left) || 0, 0);\n      var right = parseFloat(style.paddingRight) + Math.max(parseFloat(style.right) || 0, 0);\n      var top = parseFloat(style.paddingTop) + Math.max(parseFloat(style.top) || 0, 0);\n      var bottom = parseFloat(style.paddingBottom) + Math.max(parseFloat(style.bottom) || 0, 0);\n      return {\n        left: left,\n        right: right,\n        top: top,\n        bottom: bottom,\n        x: left + right,\n        y: top + bottom\n      };\n    }\n    return {\n      left: 0,\n      right: 0,\n      top: 0,\n      bottom: 0,\n      x: 0,\n      y: 0\n    };\n  };\n  var setSize = function setSize() {\n    if (elementRef.current) {\n      var parentElement = elementRef.current.parentElement;\n      var width = props.scrollWidth || \"\".concat(elementRef.current.offsetWidth || parentElement.offsetWidth, \"px\");\n      var height = props.scrollHeight || \"\".concat(elementRef.current.offsetHeight || parentElement.offsetHeight, \"px\");\n      var setProp = function setProp(_name, _value) {\n        return elementRef.current.style[_name] = _value;\n      };\n      if (both || horizontal) {\n        setProp('height', height);\n        setProp('width', width);\n      } else {\n        setProp('height', height);\n      }\n    }\n  };\n  var setSpacerSize = function setSpacerSize() {\n    var items = props.items;\n    if (items) {\n      var contentPos = getContentPosition();\n      var setProp = function setProp(_name, _value, _size) {\n        var _cpos = arguments.length > 3 && arguments[3] !== undefined ? arguments[3] : 0;\n        return spacerStyle.current = _objectSpread(_objectSpread({}, spacerStyle.current), _defineProperty({}, \"\".concat(_name), (_value || []).length * _size + _cpos + 'px'));\n      };\n      if (both) {\n        setProp('height', items, props.itemSize[0], contentPos.y);\n        setProp('width', props.columns || items[1], props.itemSize[1], contentPos.x);\n      } else {\n        horizontal ? setProp('width', props.columns || items, props.itemSize, contentPos.x) : setProp('height', items, props.itemSize, contentPos.y);\n      }\n    }\n  };\n  var setContentPosition = function setContentPosition(pos) {\n    if (_contentRef.current && !props.appendOnly) {\n      var first = pos ? pos.first : firstState;\n      var calculateTranslateVal = function calculateTranslateVal(_first, _size) {\n        return _first * _size;\n      };\n      var setTransform = function setTransform() {\n        var _x = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : 0;\n        var _y = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 0;\n        _stickyRef.current && (_stickyRef.current.style.top = \"-\".concat(_y, \"px\"));\n        contentStyle.current = _objectSpread(_objectSpread({}, contentStyle.current), {\n          transform: \"translate3d(\".concat(_x, \"px, \").concat(_y, \"px, 0)\")\n        });\n      };\n      if (both) {\n        setTransform(calculateTranslateVal(first.cols, props.itemSize[1]), calculateTranslateVal(first.rows, props.itemSize[0]));\n      } else {\n        var translateVal = calculateTranslateVal(first, props.itemSize);\n        horizontal ? setTransform(translateVal, 0) : setTransform(0, translateVal);\n      }\n    }\n  };\n  var onScrollPositionChange = function onScrollPositionChange(event) {\n    var target = event.target;\n    var contentPos = getContentPosition();\n    var calculateScrollPos = function calculateScrollPos(_pos, _cpos) {\n      return _pos ? _pos > _cpos ? _pos - _cpos : _pos : 0;\n    };\n    var calculateCurrentIndex = function calculateCurrentIndex(_pos, _size) {\n      return Math.floor(_pos / (_size || _pos));\n    };\n    var calculateTriggerIndex = function calculateTriggerIndex(_currentIndex, _first, _last, _num, _numT, _isScrollDownOrRight) {\n      return _currentIndex <= _numT ? _numT : _isScrollDownOrRight ? _last - _num - _numT : _first + _numT - 1;\n    };\n    var calculateFirst = function calculateFirst(_currentIndex, _triggerIndex, _first, _last, _num, _numT, _isScrollDownOrRight) {\n      if (_currentIndex <= _numT) return 0;else return Math.max(0, _isScrollDownOrRight ? _currentIndex < _triggerIndex ? _first : _currentIndex - _numT : _currentIndex > _triggerIndex ? _first : _currentIndex - 2 * _numT);\n    };\n    var calculateLast = function calculateLast(_currentIndex, _first, _last, _num, _numT, _isCols) {\n      var lastValue = _first + _num + 2 * _numT;\n      if (_currentIndex >= _numT) {\n        lastValue += _numT + 1;\n      }\n      return getLast(lastValue, _isCols);\n    };\n    var scrollTop = calculateScrollPos(target.scrollTop, contentPos.top);\n    var scrollLeft = calculateScrollPos(target.scrollLeft, contentPos.left);\n    var newFirst = both ? {\n      rows: 0,\n      cols: 0\n    } : 0;\n    var newLast = lastState;\n    var isRangeChanged = false;\n    var newScrollPos = lastScrollPos.current;\n    if (both) {\n      var isScrollDown = lastScrollPos.current.top <= scrollTop;\n      var isScrollRight = lastScrollPos.current.left <= scrollLeft;\n      if (!props.appendOnly || props.appendOnly && (isScrollDown || isScrollRight)) {\n        var currentIndex = {\n          rows: calculateCurrentIndex(scrollTop, props.itemSize[0]),\n          cols: calculateCurrentIndex(scrollLeft, props.itemSize[1])\n        };\n        var triggerIndex = {\n          rows: calculateTriggerIndex(currentIndex.rows, firstState.rows, lastState.rows, numItemsInViewportState.rows, numToleratedItemsState[0], isScrollDown),\n          cols: calculateTriggerIndex(currentIndex.cols, firstState.cols, lastState.cols, numItemsInViewportState.cols, numToleratedItemsState[1], isScrollRight)\n        };\n        newFirst = {\n          rows: calculateFirst(currentIndex.rows, triggerIndex.rows, firstState.rows, lastState.rows, numItemsInViewportState.rows, numToleratedItemsState[0], isScrollDown),\n          cols: calculateFirst(currentIndex.cols, triggerIndex.cols, firstState.cols, lastState.cols, numItemsInViewportState.cols, numToleratedItemsState[1], isScrollRight)\n        };\n        newLast = {\n          rows: calculateLast(currentIndex.rows, newFirst.rows, lastState.rows, numItemsInViewportState.rows, numToleratedItemsState[0]),\n          cols: calculateLast(currentIndex.cols, newFirst.cols, lastState.cols, numItemsInViewportState.cols, numToleratedItemsState[1], true)\n        };\n        isRangeChanged = newFirst.rows !== firstState.rows || newLast.rows !== lastState.rows || newFirst.cols !== firstState.cols || newLast.cols !== lastState.cols || isItemRangeChanged.current;\n        newScrollPos = {\n          top: scrollTop,\n          left: scrollLeft\n        };\n      }\n    } else {\n      var scrollPos = horizontal ? scrollLeft : scrollTop;\n      var isScrollDownOrRight = lastScrollPos.current <= scrollPos;\n      if (!props.appendOnly || props.appendOnly && isScrollDownOrRight) {\n        var _currentIndex2 = calculateCurrentIndex(scrollPos, props.itemSize);\n        var _triggerIndex2 = calculateTriggerIndex(_currentIndex2, firstState, lastState, numItemsInViewportState, numToleratedItemsState, isScrollDownOrRight);\n        newFirst = calculateFirst(_currentIndex2, _triggerIndex2, firstState, lastState, numItemsInViewportState, numToleratedItemsState, isScrollDownOrRight);\n        newLast = calculateLast(_currentIndex2, newFirst, lastState, numItemsInViewportState, numToleratedItemsState);\n        isRangeChanged = newFirst !== firstState || newLast !== lastState || isItemRangeChanged.current;\n        newScrollPos = scrollPos;\n      }\n    }\n    return {\n      first: newFirst,\n      last: newLast,\n      isRangeChanged: isRangeChanged,\n      scrollPos: newScrollPos\n    };\n  };\n  var onScrollChange = function onScrollChange(event) {\n    var _onScrollPositionChan = onScrollPositionChange(event),\n      first = _onScrollPositionChan.first,\n      last = _onScrollPositionChan.last,\n      isRangeChanged = _onScrollPositionChan.isRangeChanged,\n      scrollPos = _onScrollPositionChan.scrollPos;\n    if (isRangeChanged) {\n      var newState = {\n        first: first,\n        last: last\n      };\n      setContentPosition(newState);\n      setFirstState(first);\n      setLastState(last);\n      lastScrollPos.current = scrollPos;\n      props.onScrollIndexChange && props.onScrollIndexChange(newState);\n      if (props.lazy && isPageChanged(first)) {\n        var newLazyLoadState = {\n          first: props.step ? Math.min(getPageByFirst(first) * props.step, props.items.length - props.step) : first,\n          last: Math.min(props.step ? (getPageByFirst(first) + 1) * props.step : last, props.items.length)\n        };\n        var isLazyStateChanged = !lazyLoadState.current || lazyLoadState.current.first !== newLazyLoadState.first || lazyLoadState.current.last !== newLazyLoadState.last;\n        isLazyStateChanged && props.onLazyLoad && props.onLazyLoad(newLazyLoadState);\n        lazyLoadState.current = newLazyLoadState;\n      }\n    }\n  };\n  var onScroll = function onScroll(event) {\n    props.onScroll && props.onScroll(event);\n    if (props.delay) {\n      if (scrollTimeout.current) {\n        clearTimeout(scrollTimeout.current);\n      }\n      if (isPageChanged(firstState)) {\n        if (!loadingState && props.showLoader) {\n          var _onScrollPositionChan2 = onScrollPositionChange(event),\n            isRangeChanged = _onScrollPositionChan2.isRangeChanged;\n          var changed = isRangeChanged || (props.step ? isPageChanged(firstState) : false);\n          changed && setLoadingState(true);\n        }\n        scrollTimeout.current = setTimeout(function () {\n          onScrollChange(event);\n          if (loadingState && props.showLoader && (!props.lazy || props.loading === undefined)) {\n            setLoadingState(false);\n            setPageState(getPageByFirst(firstState));\n          }\n        }, props.delay);\n      }\n    } else {\n      onScrollChange(event);\n    }\n  };\n  var onResize = function onResize() {\n    if (resizeTimeout.current) {\n      clearTimeout(resizeTimeout.current);\n    }\n    resizeTimeout.current = setTimeout(function () {\n      if (elementRef.current) {\n        var _ref2 = [DomHandler.getWidth(elementRef.current), DomHandler.getHeight(elementRef.current)],\n          width = _ref2[0],\n          height = _ref2[1];\n        var isDiffWidth = width !== defaultWidth.current,\n          isDiffHeight = height !== defaultHeight.current;\n        var reinit = both ? isDiffWidth || isDiffHeight : horizontal ? isDiffWidth : vertical ? isDiffHeight : false;\n        if (reinit) {\n          setNumToleratedItemsState(props.numToleratedItems);\n          defaultWidth.current = width;\n          defaultHeight.current = height;\n          defaultContentWidth.current = DomHandler.getWidth(_contentRef.current);\n          defaultContentHeight.current = DomHandler.getHeight(_contentRef.current);\n        }\n      }\n    }, props.resizeDelay);\n  };\n  var getOptions = function getOptions(renderedIndex) {\n    var count = (props.items || []).length;\n    var index = both ? firstState.rows + renderedIndex : firstState + renderedIndex;\n    return {\n      index: index,\n      count: count,\n      first: index === 0,\n      last: index === count - 1,\n      even: index % 2 === 0,\n      odd: index % 2 !== 0,\n      props: props\n    };\n  };\n  var loaderOptions = function loaderOptions(index, extOptions) {\n    var count = loaderArrState.length;\n    return _objectSpread({\n      index: index,\n      count: count,\n      first: index === 0,\n      last: index === count - 1,\n      even: index % 2 === 0,\n      odd: index % 2 !== 0,\n      props: props\n    }, extOptions);\n  };\n  var loadedItems = function loadedItems() {\n    var items = props.items;\n    if (items && !loadingState) {\n      if (both) return items.slice(props.appendOnly ? 0 : firstState.rows, lastState.rows).map(function (item) {\n        return props.columns ? item : item.slice(props.appendOnly ? 0 : firstState.cols, lastState.cols);\n      });else if (horizontal && props.columns) return items;else return items.slice(props.appendOnly ? 0 : firstState, lastState);\n    }\n    return [];\n  };\n  var viewInit = function viewInit() {\n    if (elementRef.current && DomHandler.isVisible(elementRef.current)) {\n      setContentElement(_contentRef.current);\n      init();\n      bindWindowResizeListener();\n      bindOrientationChangeListener();\n      defaultWidth.current = DomHandler.getWidth(elementRef.current);\n      defaultHeight.current = DomHandler.getHeight(elementRef.current);\n      defaultContentWidth.current = DomHandler.getWidth(_contentRef.current);\n      defaultContentHeight.current = DomHandler.getHeight(_contentRef.current);\n    }\n  };\n  var init = function init() {\n    if (!props.disabled) {\n      setSize();\n      calculateOptions();\n      setSpacerSize();\n    }\n  };\n  useMountEffect(function () {\n    viewInit();\n  });\n  useUpdateEffect(function () {\n    init();\n  }, [props.itemSize, props.scrollHeight, props.scrollWidth]);\n  useUpdateEffect(function () {\n    if (props.numToleratedItems !== numToleratedItemsState) {\n      setNumToleratedItemsState(props.numToleratedItems);\n    }\n  }, [props.numToleratedItems]);\n  useUpdateEffect(function () {\n    if (props.numToleratedItems === numToleratedItemsState) {\n      init(); // reinit after resizing\n    }\n  }, [numToleratedItemsState]);\n  useUpdateEffect(function () {\n    if (!prevProps.items || prevProps.items.length !== (props.items || []).length) {\n      init();\n    }\n    var loading = loadingState;\n    if (props.lazy && prevProps.loading !== props.loading && props.loading !== loadingState) {\n      setLoadingState(props.loading);\n      loading = props.loading;\n    }\n    calculateAutoSize(loading);\n  });\n  useUpdateEffect(function () {\n    lastScrollPos.current = both ? {\n      top: 0,\n      left: 0\n    } : 0;\n  }, [props.orientation]);\n  React.useImperativeHandle(ref, function () {\n    return {\n      props: props,\n      getElementRef: getElementRef,\n      scrollTo: scrollTo,\n      scrollToIndex: scrollToIndex,\n      scrollInView: scrollInView,\n      getRenderedRange: getRenderedRange\n    };\n  });\n  var createLoaderItem = function createLoaderItem(index) {\n    var extOptions = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n    var options = loaderOptions(index, extOptions);\n    var content = ObjectUtils.getJSXElement(props.loadingTemplate, options);\n    return /*#__PURE__*/React.createElement(React.Fragment, {\n      key: index\n    }, content);\n  };\n  var createLoader = function createLoader() {\n    var iconClassName = 'p-virtualscroller-loading-icon';\n    var icon = props.loadingIcon || /*#__PURE__*/React.createElement(SpinnerIcon, {\n      className: iconClassName,\n      spin: true\n    });\n    var loadingIcon = IconUtils.getJSXIcon(icon, {\n      className: iconClassName\n    }, {\n      props: props\n    });\n    if (!props.loaderDisabled && props.showLoader && loadingState) {\n      var className = classNames('p-virtualscroller-loader', {\n        'p-component-overlay': !props.loadingTemplate\n      });\n      var content = loadingIcon;\n      if (props.loadingTemplate) {\n        content = loaderArrState.map(function (_, index) {\n          return createLoaderItem(index, both && {\n            numCols: numItemsInViewportState.cols\n          });\n        });\n      } else if (props.loaderIconTemplate) {\n        var defaultContentOptions = {\n          iconClassName: iconClassName,\n          element: content,\n          props: props\n        };\n        content = ObjectUtils.getJSXElement(props.loaderIconTemplate, defaultContentOptions);\n      }\n      return /*#__PURE__*/React.createElement(\"div\", {\n        className: className\n      }, content);\n    }\n    return null;\n  };\n  var createSpacer = function createSpacer() {\n    if (props.showSpacer) {\n      return /*#__PURE__*/React.createElement(\"div\", {\n        ref: _spacerRef,\n        style: spacerStyle.current,\n        className: \"p-virtualscroller-spacer\"\n      });\n    }\n    return null;\n  };\n  var createItem = function createItem(item, index) {\n    var options = getOptions(index);\n    var content = ObjectUtils.getJSXElement(props.itemTemplate, item, options);\n    return /*#__PURE__*/React.createElement(React.Fragment, {\n      key: options.index\n    }, content);\n  };\n  var createItems = function createItems() {\n    var items = loadedItems();\n    return items.map(createItem);\n  };\n  var createContent = function createContent() {\n    var items = createItems();\n    var className = classNames('p-virtualscroller-content', {\n      'p-virtualscroller-loading': loadingState\n    });\n    var content = /*#__PURE__*/React.createElement(\"div\", {\n      ref: _contentRef,\n      style: contentStyle.current,\n      className: className\n    }, items);\n    if (props.contentTemplate) {\n      var defaultOptions = {\n        style: contentStyle.current,\n        className: className,\n        spacerStyle: spacerStyle.current,\n        contentRef: function contentRef(el) {\n          return _contentRef.current = ObjectUtils.getRefElement(el);\n        },\n        spacerRef: function spacerRef(el) {\n          return _spacerRef.current = ObjectUtils.getRefElement(el);\n        },\n        stickyRef: function stickyRef(el) {\n          return _stickyRef.current = ObjectUtils.getRefElement(el);\n        },\n        items: loadedItems(),\n        getItemOptions: function getItemOptions(index) {\n          return getOptions(index);\n        },\n        children: items,\n        element: content,\n        props: props,\n        loading: loadingState,\n        getLoaderOptions: function getLoaderOptions(index, ext) {\n          return loaderOptions(index, ext);\n        },\n        loadingTemplate: props.loadingTemplate,\n        itemSize: props.itemSize,\n        rows: getRows(),\n        columns: getColumns(),\n        vertical: vertical,\n        horizontal: horizontal,\n        both: both\n      };\n      return ObjectUtils.getJSXElement(props.contentTemplate, defaultOptions);\n    }\n    return content;\n  };\n  if (props.disabled) {\n    var content = ObjectUtils.getJSXElement(props.contentTemplate, {\n      items: props.items,\n      rows: props.items,\n      columns: props.columns\n    });\n    return /*#__PURE__*/React.createElement(React.Fragment, null, props.children, content);\n  } else {\n    var otherProps = VirtualScrollerBase.getOtherProps(props);\n    var className = classNames('p-virtualscroller', {\n      'p-virtualscroller-inline': props.inline,\n      'p-virtualscroller-both p-both-scroll': both,\n      'p-virtualscroller-horizontal p-horizontal-scroll': horizontal\n    }, props.className);\n    var loader = createLoader();\n    var _content = createContent();\n    var spacer = createSpacer();\n    return /*#__PURE__*/React.createElement(\"div\", _extends({\n      ref: elementRef,\n      className: className,\n      tabIndex: props.tabIndex,\n      style: props.style\n    }, otherProps, {\n      onScroll: onScroll\n    }), _content, spacer, loader);\n  }\n}));\nVirtualScroller.displayName = 'VirtualScroller';\nexport { VirtualScroller };","map":{"version":3,"names":["React","usePrevious","useResizeListener","useEventListener","useMountEffect","useUpdateEffect","ObjectUtils","DomHandler","classNames","IconUtils","SpinnerIcon","_extends","Object","assign","bind","target","i","arguments","length","source","key","prototype","hasOwnProperty","call","apply","_typeof","obj","Symbol","iterator","constructor","_toPrimitive","input","hint","prim","toPrimitive","undefined","res","TypeError","String","Number","_toPropertyKey","arg","_defineProperty","value","defineProperty","enumerable","configurable","writable","_arrayWithHoles","arr","Array","isArray","_iterableToArrayLimit","_i","_s","_e","_x","_r","_arr","_n","_d","next","done","push","err","_arrayLikeToArray","len","arr2","_unsupportedIterableToArray","o","minLen","n","toString","slice","name","from","test","_nonIterableRest","_slicedToArray","VirtualScrollerBase","defaultProps","__TYPE","id","style","className","tabIndex","items","itemSize","scrollHeight","scrollWidth","orientation","step","numToleratedItems","delay","resizeDelay","appendOnly","inline","lazy","disabled","loaderDisabled","loadingIcon","columns","loading","autoSize","showSpacer","showLoader","loadingTemplate","loaderIconTemplate","itemTemplate","contentTemplate","onScroll","onScrollIndexChange","onLazyLoad","children","getProps","props","getMergedProps","getOtherProps","getDiffProps","ownKeys","object","enumerableOnly","keys","getOwnPropertySymbols","symbols","filter","sym","getOwnPropertyDescriptor","_objectSpread","forEach","getOwnPropertyDescriptors","defineProperties","VirtualScroller","memo","forwardRef","inProps","ref","prevProps","vertical","horizontal","both","_React$useState","useState","rows","cols","_React$useState2","firstState","setFirstState","_React$useState3","_React$useState4","lastState","setLastState","_React$useState5","_React$useState6","pageState","setPageState","_React$useState7","_React$useState8","numItemsInViewportState","setNumItemsInViewportState","_React$useState9","_React$useState10","numToleratedItemsState","setNumToleratedItemsState","_React$useState11","_React$useState12","loadingState","setLoadingState","_React$useState13","_React$useState14","loaderArrState","setLoaderArrState","elementRef","useRef","_contentRef","_spacerRef","_stickyRef","lastScrollPos","top","left","scrollTimeout","resizeTimeout","contentStyle","spacerStyle","defaultWidth","defaultHeight","defaultContentWidth","defaultContentHeight","isItemRangeChanged","lazyLoadState","_useResizeListener","listener","event","onResize","when","_useResizeListener2","bindWindowResizeListener","_useEventListener","type","_useEventListener2","bindOrientationChangeListener","getElementRef","getPageByFirst","first","Math","floor","setContentElement","element","current","findSingle","isPageChanged","scrollTo","options","scrollToIndex","index","behavior","_calculateNumItems","calculateNumItems","contentPos","getContentPosition","calculateFirst","_index","_numT","calculateCoord","_first","_size","_cpos","scrollToItem","newFirst","isRangeChanged","scrollInView","to","_getRenderedRange","getRenderedRange","viewport","isToStart","isToEnd","pos","last","_pos2","getRows","loadedItems","getColumns","calculateFirstInViewport","_pos","firstInViewport","lastInViewport","_elementRef$current","scrollTop","scrollLeft","scrollPos","contentWidth","offsetWidth","contentHeight","offsetHeight","calculateNumItemsInViewport","_contentSize","_itemSize","ceil","calculateNumToleratedItems","_numItems","numItemsInViewport","calculateOptions","_calculateNumItems2","calculateLast","_num","_isCols","getLast","map","Promise","resolve","then","min","calculateAutoSize","minHeight","minWidth","position","contain","_ref","getWidth","getHeight","width","height","isCols","getComputedStyle","parseFloat","paddingLeft","max","right","paddingRight","paddingTop","bottom","paddingBottom","x","y","setSize","parentElement","concat","setProp","_name","_value","setSpacerSize","setContentPosition","calculateTranslateVal","setTransform","_y","transform","translateVal","onScrollPositionChange","calculateScrollPos","calculateCurrentIndex","calculateTriggerIndex","_currentIndex","_last","_isScrollDownOrRight","_triggerIndex","lastValue","newLast","newScrollPos","isScrollDown","isScrollRight","currentIndex","triggerIndex","isScrollDownOrRight","_currentIndex2","_triggerIndex2","onScrollChange","_onScrollPositionChan","newState","newLazyLoadState","isLazyStateChanged","clearTimeout","_onScrollPositionChan2","changed","setTimeout","_ref2","isDiffWidth","isDiffHeight","reinit","getOptions","renderedIndex","count","even","odd","loaderOptions","extOptions","item","viewInit","isVisible","init","useImperativeHandle","createLoaderItem","content","getJSXElement","createElement","Fragment","createLoader","iconClassName","icon","spin","getJSXIcon","_","numCols","defaultContentOptions","createSpacer","createItem","createItems","createContent","defaultOptions","contentRef","el","getRefElement","spacerRef","stickyRef","getItemOptions","getLoaderOptions","ext","otherProps","loader","_content","spacer","displayName"],"sources":["C:/Users/LE HOANG NHAT/OneDrive/Documents/GitHub/AdminQuanLyBanHang/node_modules/primereact/virtualscroller/virtualscroller.esm.js"],"sourcesContent":["import * as React from 'react';\nimport { usePrevious, useResizeListener, useEventListener, useMountEffect, useUpdateEffect } from 'primereact/hooks';\nimport { ObjectUtils, DomHandler, classNames, IconUtils } from 'primereact/utils';\nimport { SpinnerIcon } from 'primereact/icons/spinner';\n\nfunction _extends() {\n  _extends = Object.assign ? Object.assign.bind() : function (target) {\n    for (var i = 1; i < arguments.length; i++) {\n      var source = arguments[i];\n      for (var key in source) {\n        if (Object.prototype.hasOwnProperty.call(source, key)) {\n          target[key] = source[key];\n        }\n      }\n    }\n    return target;\n  };\n  return _extends.apply(this, arguments);\n}\n\nfunction _typeof(obj) {\n  \"@babel/helpers - typeof\";\n\n  return _typeof = \"function\" == typeof Symbol && \"symbol\" == typeof Symbol.iterator ? function (obj) {\n    return typeof obj;\n  } : function (obj) {\n    return obj && \"function\" == typeof Symbol && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj;\n  }, _typeof(obj);\n}\n\nfunction _toPrimitive(input, hint) {\n  if (_typeof(input) !== \"object\" || input === null) return input;\n  var prim = input[Symbol.toPrimitive];\n  if (prim !== undefined) {\n    var res = prim.call(input, hint || \"default\");\n    if (_typeof(res) !== \"object\") return res;\n    throw new TypeError(\"@@toPrimitive must return a primitive value.\");\n  }\n  return (hint === \"string\" ? String : Number)(input);\n}\n\nfunction _toPropertyKey(arg) {\n  var key = _toPrimitive(arg, \"string\");\n  return _typeof(key) === \"symbol\" ? key : String(key);\n}\n\nfunction _defineProperty(obj, key, value) {\n  key = _toPropertyKey(key);\n  if (key in obj) {\n    Object.defineProperty(obj, key, {\n      value: value,\n      enumerable: true,\n      configurable: true,\n      writable: true\n    });\n  } else {\n    obj[key] = value;\n  }\n  return obj;\n}\n\nfunction _arrayWithHoles(arr) {\n  if (Array.isArray(arr)) return arr;\n}\n\nfunction _iterableToArrayLimit(arr, i) {\n  var _i = null == arr ? null : \"undefined\" != typeof Symbol && arr[Symbol.iterator] || arr[\"@@iterator\"];\n  if (null != _i) {\n    var _s,\n      _e,\n      _x,\n      _r,\n      _arr = [],\n      _n = !0,\n      _d = !1;\n    try {\n      if (_x = (_i = _i.call(arr)).next, 0 === i) {\n        if (Object(_i) !== _i) return;\n        _n = !1;\n      } else for (; !(_n = (_s = _x.call(_i)).done) && (_arr.push(_s.value), _arr.length !== i); _n = !0);\n    } catch (err) {\n      _d = !0, _e = err;\n    } finally {\n      try {\n        if (!_n && null != _i[\"return\"] && (_r = _i[\"return\"](), Object(_r) !== _r)) return;\n      } finally {\n        if (_d) throw _e;\n      }\n    }\n    return _arr;\n  }\n}\n\nfunction _arrayLikeToArray(arr, len) {\n  if (len == null || len > arr.length) len = arr.length;\n  for (var i = 0, arr2 = new Array(len); i < len; i++) arr2[i] = arr[i];\n  return arr2;\n}\n\nfunction _unsupportedIterableToArray(o, minLen) {\n  if (!o) return;\n  if (typeof o === \"string\") return _arrayLikeToArray(o, minLen);\n  var n = Object.prototype.toString.call(o).slice(8, -1);\n  if (n === \"Object\" && o.constructor) n = o.constructor.name;\n  if (n === \"Map\" || n === \"Set\") return Array.from(o);\n  if (n === \"Arguments\" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return _arrayLikeToArray(o, minLen);\n}\n\nfunction _nonIterableRest() {\n  throw new TypeError(\"Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\");\n}\n\nfunction _slicedToArray(arr, i) {\n  return _arrayWithHoles(arr) || _iterableToArrayLimit(arr, i) || _unsupportedIterableToArray(arr, i) || _nonIterableRest();\n}\n\nvar VirtualScrollerBase = {\n  defaultProps: {\n    __TYPE: 'VirtualScroller',\n    id: null,\n    style: null,\n    className: null,\n    tabIndex: 0,\n    items: null,\n    itemSize: 0,\n    scrollHeight: null,\n    scrollWidth: null,\n    orientation: 'vertical',\n    step: 0,\n    numToleratedItems: null,\n    delay: 0,\n    resizeDelay: 10,\n    appendOnly: false,\n    inline: false,\n    lazy: false,\n    disabled: false,\n    loaderDisabled: false,\n    loadingIcon: null,\n    columns: null,\n    loading: undefined,\n    autoSize: false,\n    showSpacer: true,\n    showLoader: false,\n    loadingTemplate: null,\n    loaderIconTemplate: null,\n    itemTemplate: null,\n    contentTemplate: null,\n    onScroll: null,\n    onScrollIndexChange: null,\n    onLazyLoad: null,\n    children: undefined\n  },\n  getProps: function getProps(props) {\n    return ObjectUtils.getMergedProps(props, VirtualScrollerBase.defaultProps);\n  },\n  getOtherProps: function getOtherProps(props) {\n    return ObjectUtils.getDiffProps(props, VirtualScrollerBase.defaultProps);\n  }\n};\n\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); enumerableOnly && (symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; })), keys.push.apply(keys, symbols); } return keys; }\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = null != arguments[i] ? arguments[i] : {}; i % 2 ? ownKeys(Object(source), !0).forEach(function (key) { _defineProperty(target, key, source[key]); }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)) : ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } return target; }\nvar VirtualScroller = /*#__PURE__*/React.memo( /*#__PURE__*/React.forwardRef(function (inProps, ref) {\n  var props = VirtualScrollerBase.getProps(inProps);\n  var prevProps = usePrevious(inProps) || {};\n  var vertical = props.orientation === 'vertical';\n  var horizontal = props.orientation === 'horizontal';\n  var both = props.orientation === 'both';\n  var _React$useState = React.useState(both ? {\n      rows: 0,\n      cols: 0\n    } : 0),\n    _React$useState2 = _slicedToArray(_React$useState, 2),\n    firstState = _React$useState2[0],\n    setFirstState = _React$useState2[1];\n  var _React$useState3 = React.useState(both ? {\n      rows: 0,\n      cols: 0\n    } : 0),\n    _React$useState4 = _slicedToArray(_React$useState3, 2),\n    lastState = _React$useState4[0],\n    setLastState = _React$useState4[1];\n  var _React$useState5 = React.useState(0),\n    _React$useState6 = _slicedToArray(_React$useState5, 2),\n    pageState = _React$useState6[0],\n    setPageState = _React$useState6[1];\n  var _React$useState7 = React.useState(both ? {\n      rows: 0,\n      cols: 0\n    } : 0),\n    _React$useState8 = _slicedToArray(_React$useState7, 2),\n    numItemsInViewportState = _React$useState8[0],\n    setNumItemsInViewportState = _React$useState8[1];\n  var _React$useState9 = React.useState(props.numToleratedItems),\n    _React$useState10 = _slicedToArray(_React$useState9, 2),\n    numToleratedItemsState = _React$useState10[0],\n    setNumToleratedItemsState = _React$useState10[1];\n  var _React$useState11 = React.useState(props.loading || false),\n    _React$useState12 = _slicedToArray(_React$useState11, 2),\n    loadingState = _React$useState12[0],\n    setLoadingState = _React$useState12[1];\n  var _React$useState13 = React.useState([]),\n    _React$useState14 = _slicedToArray(_React$useState13, 2),\n    loaderArrState = _React$useState14[0],\n    setLoaderArrState = _React$useState14[1];\n  var elementRef = React.useRef(null);\n  var _contentRef = React.useRef(null);\n  var _spacerRef = React.useRef(null);\n  var _stickyRef = React.useRef(null);\n  var lastScrollPos = React.useRef(both ? {\n    top: 0,\n    left: 0\n  } : 0);\n  var scrollTimeout = React.useRef(null);\n  var resizeTimeout = React.useRef(null);\n  var contentStyle = React.useRef({});\n  var spacerStyle = React.useRef({});\n  var defaultWidth = React.useRef(null);\n  var defaultHeight = React.useRef(null);\n  var defaultContentWidth = React.useRef(null);\n  var defaultContentHeight = React.useRef(null);\n  var isItemRangeChanged = React.useRef(false);\n  var lazyLoadState = React.useRef(null);\n  var _useResizeListener = useResizeListener({\n      listener: function listener(event) {\n        return onResize();\n      },\n      when: !props.disabled\n    }),\n    _useResizeListener2 = _slicedToArray(_useResizeListener, 1),\n    bindWindowResizeListener = _useResizeListener2[0];\n  var _useEventListener = useEventListener({\n      target: 'window',\n      type: 'orientationchange',\n      listener: function listener(event) {\n        return onResize();\n      },\n      when: !props.disabled\n    }),\n    _useEventListener2 = _slicedToArray(_useEventListener, 1),\n    bindOrientationChangeListener = _useEventListener2[0];\n  var getElementRef = function getElementRef() {\n    return elementRef;\n  };\n  var getPageByFirst = function getPageByFirst(first) {\n    return Math.floor((first + numToleratedItemsState * 4) / (props.step || 1));\n  };\n  var setContentElement = function setContentElement(element) {\n    _contentRef.current = element || _contentRef.current || DomHandler.findSingle(elementRef.current, '.p-virtualscroller-content');\n  };\n  var isPageChanged = function isPageChanged(first) {\n    return props.step ? pageState !== getPageByFirst(first) : true;\n  };\n  var scrollTo = function scrollTo(options) {\n    lastScrollPos.current = both ? {\n      top: 0,\n      left: 0\n    } : 0;\n    elementRef.current && elementRef.current.scrollTo(options);\n  };\n  var scrollToIndex = function scrollToIndex(index) {\n    var behavior = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 'auto';\n    var _calculateNumItems = calculateNumItems(),\n      numToleratedItems = _calculateNumItems.numToleratedItems;\n    var contentPos = getContentPosition();\n    var calculateFirst = function calculateFirst() {\n      var _index = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : 0;\n      var _numT = arguments.length > 1 ? arguments[1] : undefined;\n      return _index <= _numT ? 0 : _index;\n    };\n    var calculateCoord = function calculateCoord(_first, _size, _cpos) {\n      return _first * _size + _cpos;\n    };\n    var scrollToItem = function scrollToItem() {\n      var left = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : 0;\n      var top = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 0;\n      return scrollTo({\n        left: left,\n        top: top,\n        behavior: behavior\n      });\n    };\n    var newFirst = both ? {\n      rows: 0,\n      cols: 0\n    } : 0;\n    var isRangeChanged = false;\n    if (both) {\n      newFirst = {\n        rows: calculateFirst(index[0], numToleratedItems[0]),\n        cols: calculateFirst(index[1], numToleratedItems[1])\n      };\n      scrollToItem(calculateCoord(newFirst.cols, props.itemSize[1], contentPos.left), calculateCoord(newFirst.rows, props.itemSize[0], contentPos.top));\n      isRangeChanged = firstState.rows !== newFirst.rows || firstState.cols !== newFirst.cols;\n    } else {\n      newFirst = calculateFirst(index, numToleratedItems);\n      horizontal ? scrollToItem(calculateCoord(newFirst, props.itemSize, contentPos.left), 0) : scrollToItem(0, calculateCoord(newFirst, props.itemSize, contentPos.top));\n      isRangeChanged = firstState !== newFirst;\n    }\n    isItemRangeChanged.current = isRangeChanged;\n    setFirstState(newFirst);\n  };\n  var scrollInView = function scrollInView(index, to) {\n    var behavior = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : 'auto';\n    if (to) {\n      var _getRenderedRange = getRenderedRange(),\n        first = _getRenderedRange.first,\n        viewport = _getRenderedRange.viewport;\n      var scrollToItem = function scrollToItem() {\n        var left = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : 0;\n        var top = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 0;\n        return scrollTo({\n          left: left,\n          top: top,\n          behavior: behavior\n        });\n      };\n      var isToStart = to === 'to-start';\n      var isToEnd = to === 'to-end';\n      if (isToStart) {\n        if (both) {\n          if (viewport.first.rows - first.rows > index[0]) {\n            scrollToItem(viewport.first.cols * props.itemSize[1], (viewport.first.rows - 1) * props.itemSize[0]);\n          } else if (viewport.first.cols - first.cols > index[1]) {\n            scrollToItem((viewport.first.cols - 1) * props.itemSize[1], viewport.first.rows * props.itemSize[0]);\n          }\n        } else {\n          if (viewport.first - first > index) {\n            var pos = (viewport.first - 1) * props.itemSize;\n            horizontal ? scrollToItem(pos, 0) : scrollToItem(0, pos);\n          }\n        }\n      } else if (isToEnd) {\n        if (both) {\n          if (viewport.last.rows - first.rows <= index[0] + 1) {\n            scrollToItem(viewport.first.cols * props.itemSize[1], (viewport.first.rows + 1) * props.itemSize[0]);\n          } else if (viewport.last.cols - first.cols <= index[1] + 1) {\n            scrollToItem((viewport.first.cols + 1) * props.itemSize[1], viewport.first.rows * props.itemSize[0]);\n          }\n        } else {\n          if (viewport.last - first <= index + 1) {\n            var _pos2 = (viewport.first + 1) * props.itemSize;\n            horizontal ? scrollToItem(_pos2, 0) : scrollToItem(0, _pos2);\n          }\n        }\n      }\n    } else {\n      scrollToIndex(index, behavior);\n    }\n  };\n  var getRows = function getRows() {\n    return loadingState ? props.loaderDisabled ? loaderArrState : [] : loadedItems();\n  };\n  var getColumns = function getColumns() {\n    if (props.columns && both || horizontal) {\n      return loadingState && props.loaderDisabled ? both ? loaderArrState[0] : loaderArrState : props.columns.slice(both ? firstState.cols : firstState, both ? lastState.cols : lastState);\n    }\n    return props.columns;\n  };\n  var getRenderedRange = function getRenderedRange() {\n    var calculateFirstInViewport = function calculateFirstInViewport(_pos, _size) {\n      return Math.floor(_pos / (_size || _pos));\n    };\n    var firstInViewport = firstState;\n    var lastInViewport = 0;\n    if (elementRef.current) {\n      var _elementRef$current = elementRef.current,\n        scrollTop = _elementRef$current.scrollTop,\n        scrollLeft = _elementRef$current.scrollLeft;\n      if (both) {\n        firstInViewport = {\n          rows: calculateFirstInViewport(scrollTop, props.itemSize[0]),\n          cols: calculateFirstInViewport(scrollLeft, props.itemSize[1])\n        };\n        lastInViewport = {\n          rows: firstInViewport.rows + numItemsInViewportState.rows,\n          cols: firstInViewport.cols + numItemsInViewportState.cols\n        };\n      } else {\n        var scrollPos = horizontal ? scrollLeft : scrollTop;\n        firstInViewport = calculateFirstInViewport(scrollPos, props.itemSize);\n        lastInViewport = firstInViewport + numItemsInViewportState;\n      }\n    }\n    return {\n      first: firstState,\n      last: lastState,\n      viewport: {\n        first: firstInViewport,\n        last: lastInViewport\n      }\n    };\n  };\n  var calculateNumItems = function calculateNumItems() {\n    var contentPos = getContentPosition();\n    var contentWidth = elementRef.current ? elementRef.current.offsetWidth - contentPos.left : 0;\n    var contentHeight = elementRef.current ? elementRef.current.offsetHeight - contentPos.top : 0;\n    var calculateNumItemsInViewport = function calculateNumItemsInViewport(_contentSize, _itemSize) {\n      return Math.ceil(_contentSize / (_itemSize || _contentSize));\n    };\n    var calculateNumToleratedItems = function calculateNumToleratedItems(_numItems) {\n      return Math.ceil(_numItems / 2);\n    };\n    var numItemsInViewport = both ? {\n      rows: calculateNumItemsInViewport(contentHeight, props.itemSize[0]),\n      cols: calculateNumItemsInViewport(contentWidth, props.itemSize[1])\n    } : calculateNumItemsInViewport(horizontal ? contentWidth : contentHeight, props.itemSize);\n    var numToleratedItems = numToleratedItemsState || (both ? [calculateNumToleratedItems(numItemsInViewport.rows), calculateNumToleratedItems(numItemsInViewport.cols)] : calculateNumToleratedItems(numItemsInViewport));\n    return {\n      numItemsInViewport: numItemsInViewport,\n      numToleratedItems: numToleratedItems\n    };\n  };\n  var calculateOptions = function calculateOptions() {\n    var _calculateNumItems2 = calculateNumItems(),\n      numItemsInViewport = _calculateNumItems2.numItemsInViewport,\n      numToleratedItems = _calculateNumItems2.numToleratedItems;\n    var calculateLast = function calculateLast(_first, _num, _numT) {\n      var _isCols = arguments.length > 3 && arguments[3] !== undefined ? arguments[3] : false;\n      return getLast(_first + _num + (_first < _numT ? 2 : 3) * _numT, _isCols);\n    };\n    var last = both ? {\n      rows: calculateLast(firstState.rows, numItemsInViewport.rows, numToleratedItems[0]),\n      cols: calculateLast(firstState.cols, numItemsInViewport.cols, numToleratedItems[1], true)\n    } : calculateLast(firstState, numItemsInViewport, numToleratedItems);\n    setNumItemsInViewportState(numItemsInViewport);\n    setNumToleratedItemsState(numToleratedItems);\n    setLastState(last);\n    if (props.showLoader) {\n      setLoaderArrState(both ? Array.from({\n        length: numItemsInViewport.rows\n      }).map(function () {\n        return Array.from({\n          length: numItemsInViewport.cols\n        });\n      }) : Array.from({\n        length: numItemsInViewport\n      }));\n    }\n    if (props.lazy) {\n      Promise.resolve().then(function () {\n        lazyLoadState.current = {\n          first: props.step ? both ? {\n            rows: 0,\n            cols: firstState.cols\n          } : 0 : firstState,\n          last: Math.min(props.step ? props.step : last, props.items.length)\n        };\n        props.onLazyLoad && props.onLazyLoad(lazyLoadState.current);\n      });\n    }\n  };\n  var calculateAutoSize = function calculateAutoSize(loading) {\n    if (props.autoSize && !loading) {\n      Promise.resolve().then(function () {\n        if (_contentRef.current) {\n          _contentRef.current.style.minHeight = _contentRef.current.style.minWidth = 'auto';\n          _contentRef.current.style.position = 'relative';\n          elementRef.current.style.contain = 'none';\n\n          /*const [contentWidth, contentHeight] = [DomHandler.getWidth(contentRef.current), DomHandler.getHeight(contentRef.current)];\n           contentWidth !== defaultContentWidth.current && (elementRef.current.style.width = '');\n          contentHeight !== defaultContentHeight.current && (elementRef.current.style.height = '');*/\n\n          var _ref = [DomHandler.getWidth(elementRef.current), DomHandler.getHeight(elementRef.current)],\n            width = _ref[0],\n            height = _ref[1];\n          (both || horizontal) && (elementRef.current.style.width = (width < defaultWidth.current ? width : props.scrollWidth || defaultWidth.current) + 'px');\n          (both || vertical) && (elementRef.current.style.height = (height < defaultHeight.current ? height : props.scrollHeight || defaultHeight.current) + 'px');\n          _contentRef.current.style.minHeight = _contentRef.current.style.minWidth = '';\n          _contentRef.current.style.position = '';\n          elementRef.current.style.contain = '';\n        }\n      });\n    }\n  };\n  var getLast = function getLast() {\n    var last = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : 0;\n    var isCols = arguments.length > 1 ? arguments[1] : undefined;\n    return props.items ? Math.min(isCols ? (props.columns || props.items[0]).length : props.items.length, last) : 0;\n  };\n  var getContentPosition = function getContentPosition() {\n    if (_contentRef.current) {\n      var style = getComputedStyle(_contentRef.current);\n      var left = parseFloat(style.paddingLeft) + Math.max(parseFloat(style.left) || 0, 0);\n      var right = parseFloat(style.paddingRight) + Math.max(parseFloat(style.right) || 0, 0);\n      var top = parseFloat(style.paddingTop) + Math.max(parseFloat(style.top) || 0, 0);\n      var bottom = parseFloat(style.paddingBottom) + Math.max(parseFloat(style.bottom) || 0, 0);\n      return {\n        left: left,\n        right: right,\n        top: top,\n        bottom: bottom,\n        x: left + right,\n        y: top + bottom\n      };\n    }\n    return {\n      left: 0,\n      right: 0,\n      top: 0,\n      bottom: 0,\n      x: 0,\n      y: 0\n    };\n  };\n  var setSize = function setSize() {\n    if (elementRef.current) {\n      var parentElement = elementRef.current.parentElement;\n      var width = props.scrollWidth || \"\".concat(elementRef.current.offsetWidth || parentElement.offsetWidth, \"px\");\n      var height = props.scrollHeight || \"\".concat(elementRef.current.offsetHeight || parentElement.offsetHeight, \"px\");\n      var setProp = function setProp(_name, _value) {\n        return elementRef.current.style[_name] = _value;\n      };\n      if (both || horizontal) {\n        setProp('height', height);\n        setProp('width', width);\n      } else {\n        setProp('height', height);\n      }\n    }\n  };\n  var setSpacerSize = function setSpacerSize() {\n    var items = props.items;\n    if (items) {\n      var contentPos = getContentPosition();\n      var setProp = function setProp(_name, _value, _size) {\n        var _cpos = arguments.length > 3 && arguments[3] !== undefined ? arguments[3] : 0;\n        return spacerStyle.current = _objectSpread(_objectSpread({}, spacerStyle.current), _defineProperty({}, \"\".concat(_name), (_value || []).length * _size + _cpos + 'px'));\n      };\n      if (both) {\n        setProp('height', items, props.itemSize[0], contentPos.y);\n        setProp('width', props.columns || items[1], props.itemSize[1], contentPos.x);\n      } else {\n        horizontal ? setProp('width', props.columns || items, props.itemSize, contentPos.x) : setProp('height', items, props.itemSize, contentPos.y);\n      }\n    }\n  };\n  var setContentPosition = function setContentPosition(pos) {\n    if (_contentRef.current && !props.appendOnly) {\n      var first = pos ? pos.first : firstState;\n      var calculateTranslateVal = function calculateTranslateVal(_first, _size) {\n        return _first * _size;\n      };\n      var setTransform = function setTransform() {\n        var _x = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : 0;\n        var _y = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 0;\n        _stickyRef.current && (_stickyRef.current.style.top = \"-\".concat(_y, \"px\"));\n        contentStyle.current = _objectSpread(_objectSpread({}, contentStyle.current), {\n          transform: \"translate3d(\".concat(_x, \"px, \").concat(_y, \"px, 0)\")\n        });\n      };\n      if (both) {\n        setTransform(calculateTranslateVal(first.cols, props.itemSize[1]), calculateTranslateVal(first.rows, props.itemSize[0]));\n      } else {\n        var translateVal = calculateTranslateVal(first, props.itemSize);\n        horizontal ? setTransform(translateVal, 0) : setTransform(0, translateVal);\n      }\n    }\n  };\n  var onScrollPositionChange = function onScrollPositionChange(event) {\n    var target = event.target;\n    var contentPos = getContentPosition();\n    var calculateScrollPos = function calculateScrollPos(_pos, _cpos) {\n      return _pos ? _pos > _cpos ? _pos - _cpos : _pos : 0;\n    };\n    var calculateCurrentIndex = function calculateCurrentIndex(_pos, _size) {\n      return Math.floor(_pos / (_size || _pos));\n    };\n    var calculateTriggerIndex = function calculateTriggerIndex(_currentIndex, _first, _last, _num, _numT, _isScrollDownOrRight) {\n      return _currentIndex <= _numT ? _numT : _isScrollDownOrRight ? _last - _num - _numT : _first + _numT - 1;\n    };\n    var calculateFirst = function calculateFirst(_currentIndex, _triggerIndex, _first, _last, _num, _numT, _isScrollDownOrRight) {\n      if (_currentIndex <= _numT) return 0;else return Math.max(0, _isScrollDownOrRight ? _currentIndex < _triggerIndex ? _first : _currentIndex - _numT : _currentIndex > _triggerIndex ? _first : _currentIndex - 2 * _numT);\n    };\n    var calculateLast = function calculateLast(_currentIndex, _first, _last, _num, _numT, _isCols) {\n      var lastValue = _first + _num + 2 * _numT;\n      if (_currentIndex >= _numT) {\n        lastValue += _numT + 1;\n      }\n      return getLast(lastValue, _isCols);\n    };\n    var scrollTop = calculateScrollPos(target.scrollTop, contentPos.top);\n    var scrollLeft = calculateScrollPos(target.scrollLeft, contentPos.left);\n    var newFirst = both ? {\n      rows: 0,\n      cols: 0\n    } : 0;\n    var newLast = lastState;\n    var isRangeChanged = false;\n    var newScrollPos = lastScrollPos.current;\n    if (both) {\n      var isScrollDown = lastScrollPos.current.top <= scrollTop;\n      var isScrollRight = lastScrollPos.current.left <= scrollLeft;\n      if (!props.appendOnly || props.appendOnly && (isScrollDown || isScrollRight)) {\n        var currentIndex = {\n          rows: calculateCurrentIndex(scrollTop, props.itemSize[0]),\n          cols: calculateCurrentIndex(scrollLeft, props.itemSize[1])\n        };\n        var triggerIndex = {\n          rows: calculateTriggerIndex(currentIndex.rows, firstState.rows, lastState.rows, numItemsInViewportState.rows, numToleratedItemsState[0], isScrollDown),\n          cols: calculateTriggerIndex(currentIndex.cols, firstState.cols, lastState.cols, numItemsInViewportState.cols, numToleratedItemsState[1], isScrollRight)\n        };\n        newFirst = {\n          rows: calculateFirst(currentIndex.rows, triggerIndex.rows, firstState.rows, lastState.rows, numItemsInViewportState.rows, numToleratedItemsState[0], isScrollDown),\n          cols: calculateFirst(currentIndex.cols, triggerIndex.cols, firstState.cols, lastState.cols, numItemsInViewportState.cols, numToleratedItemsState[1], isScrollRight)\n        };\n        newLast = {\n          rows: calculateLast(currentIndex.rows, newFirst.rows, lastState.rows, numItemsInViewportState.rows, numToleratedItemsState[0]),\n          cols: calculateLast(currentIndex.cols, newFirst.cols, lastState.cols, numItemsInViewportState.cols, numToleratedItemsState[1], true)\n        };\n        isRangeChanged = newFirst.rows !== firstState.rows || newLast.rows !== lastState.rows || newFirst.cols !== firstState.cols || newLast.cols !== lastState.cols || isItemRangeChanged.current;\n        newScrollPos = {\n          top: scrollTop,\n          left: scrollLeft\n        };\n      }\n    } else {\n      var scrollPos = horizontal ? scrollLeft : scrollTop;\n      var isScrollDownOrRight = lastScrollPos.current <= scrollPos;\n      if (!props.appendOnly || props.appendOnly && isScrollDownOrRight) {\n        var _currentIndex2 = calculateCurrentIndex(scrollPos, props.itemSize);\n        var _triggerIndex2 = calculateTriggerIndex(_currentIndex2, firstState, lastState, numItemsInViewportState, numToleratedItemsState, isScrollDownOrRight);\n        newFirst = calculateFirst(_currentIndex2, _triggerIndex2, firstState, lastState, numItemsInViewportState, numToleratedItemsState, isScrollDownOrRight);\n        newLast = calculateLast(_currentIndex2, newFirst, lastState, numItemsInViewportState, numToleratedItemsState);\n        isRangeChanged = newFirst !== firstState || newLast !== lastState || isItemRangeChanged.current;\n        newScrollPos = scrollPos;\n      }\n    }\n    return {\n      first: newFirst,\n      last: newLast,\n      isRangeChanged: isRangeChanged,\n      scrollPos: newScrollPos\n    };\n  };\n  var onScrollChange = function onScrollChange(event) {\n    var _onScrollPositionChan = onScrollPositionChange(event),\n      first = _onScrollPositionChan.first,\n      last = _onScrollPositionChan.last,\n      isRangeChanged = _onScrollPositionChan.isRangeChanged,\n      scrollPos = _onScrollPositionChan.scrollPos;\n    if (isRangeChanged) {\n      var newState = {\n        first: first,\n        last: last\n      };\n      setContentPosition(newState);\n      setFirstState(first);\n      setLastState(last);\n      lastScrollPos.current = scrollPos;\n      props.onScrollIndexChange && props.onScrollIndexChange(newState);\n      if (props.lazy && isPageChanged(first)) {\n        var newLazyLoadState = {\n          first: props.step ? Math.min(getPageByFirst(first) * props.step, props.items.length - props.step) : first,\n          last: Math.min(props.step ? (getPageByFirst(first) + 1) * props.step : last, props.items.length)\n        };\n        var isLazyStateChanged = !lazyLoadState.current || lazyLoadState.current.first !== newLazyLoadState.first || lazyLoadState.current.last !== newLazyLoadState.last;\n        isLazyStateChanged && props.onLazyLoad && props.onLazyLoad(newLazyLoadState);\n        lazyLoadState.current = newLazyLoadState;\n      }\n    }\n  };\n  var onScroll = function onScroll(event) {\n    props.onScroll && props.onScroll(event);\n    if (props.delay) {\n      if (scrollTimeout.current) {\n        clearTimeout(scrollTimeout.current);\n      }\n      if (isPageChanged(firstState)) {\n        if (!loadingState && props.showLoader) {\n          var _onScrollPositionChan2 = onScrollPositionChange(event),\n            isRangeChanged = _onScrollPositionChan2.isRangeChanged;\n          var changed = isRangeChanged || (props.step ? isPageChanged(firstState) : false);\n          changed && setLoadingState(true);\n        }\n        scrollTimeout.current = setTimeout(function () {\n          onScrollChange(event);\n          if (loadingState && props.showLoader && (!props.lazy || props.loading === undefined)) {\n            setLoadingState(false);\n            setPageState(getPageByFirst(firstState));\n          }\n        }, props.delay);\n      }\n    } else {\n      onScrollChange(event);\n    }\n  };\n  var onResize = function onResize() {\n    if (resizeTimeout.current) {\n      clearTimeout(resizeTimeout.current);\n    }\n    resizeTimeout.current = setTimeout(function () {\n      if (elementRef.current) {\n        var _ref2 = [DomHandler.getWidth(elementRef.current), DomHandler.getHeight(elementRef.current)],\n          width = _ref2[0],\n          height = _ref2[1];\n        var isDiffWidth = width !== defaultWidth.current,\n          isDiffHeight = height !== defaultHeight.current;\n        var reinit = both ? isDiffWidth || isDiffHeight : horizontal ? isDiffWidth : vertical ? isDiffHeight : false;\n        if (reinit) {\n          setNumToleratedItemsState(props.numToleratedItems);\n          defaultWidth.current = width;\n          defaultHeight.current = height;\n          defaultContentWidth.current = DomHandler.getWidth(_contentRef.current);\n          defaultContentHeight.current = DomHandler.getHeight(_contentRef.current);\n        }\n      }\n    }, props.resizeDelay);\n  };\n  var getOptions = function getOptions(renderedIndex) {\n    var count = (props.items || []).length;\n    var index = both ? firstState.rows + renderedIndex : firstState + renderedIndex;\n    return {\n      index: index,\n      count: count,\n      first: index === 0,\n      last: index === count - 1,\n      even: index % 2 === 0,\n      odd: index % 2 !== 0,\n      props: props\n    };\n  };\n  var loaderOptions = function loaderOptions(index, extOptions) {\n    var count = loaderArrState.length;\n    return _objectSpread({\n      index: index,\n      count: count,\n      first: index === 0,\n      last: index === count - 1,\n      even: index % 2 === 0,\n      odd: index % 2 !== 0,\n      props: props\n    }, extOptions);\n  };\n  var loadedItems = function loadedItems() {\n    var items = props.items;\n    if (items && !loadingState) {\n      if (both) return items.slice(props.appendOnly ? 0 : firstState.rows, lastState.rows).map(function (item) {\n        return props.columns ? item : item.slice(props.appendOnly ? 0 : firstState.cols, lastState.cols);\n      });else if (horizontal && props.columns) return items;else return items.slice(props.appendOnly ? 0 : firstState, lastState);\n    }\n    return [];\n  };\n  var viewInit = function viewInit() {\n    if (elementRef.current && DomHandler.isVisible(elementRef.current)) {\n      setContentElement(_contentRef.current);\n      init();\n      bindWindowResizeListener();\n      bindOrientationChangeListener();\n      defaultWidth.current = DomHandler.getWidth(elementRef.current);\n      defaultHeight.current = DomHandler.getHeight(elementRef.current);\n      defaultContentWidth.current = DomHandler.getWidth(_contentRef.current);\n      defaultContentHeight.current = DomHandler.getHeight(_contentRef.current);\n    }\n  };\n  var init = function init() {\n    if (!props.disabled) {\n      setSize();\n      calculateOptions();\n      setSpacerSize();\n    }\n  };\n  useMountEffect(function () {\n    viewInit();\n  });\n  useUpdateEffect(function () {\n    init();\n  }, [props.itemSize, props.scrollHeight, props.scrollWidth]);\n  useUpdateEffect(function () {\n    if (props.numToleratedItems !== numToleratedItemsState) {\n      setNumToleratedItemsState(props.numToleratedItems);\n    }\n  }, [props.numToleratedItems]);\n  useUpdateEffect(function () {\n    if (props.numToleratedItems === numToleratedItemsState) {\n      init(); // reinit after resizing\n    }\n  }, [numToleratedItemsState]);\n  useUpdateEffect(function () {\n    if (!prevProps.items || prevProps.items.length !== (props.items || []).length) {\n      init();\n    }\n    var loading = loadingState;\n    if (props.lazy && prevProps.loading !== props.loading && props.loading !== loadingState) {\n      setLoadingState(props.loading);\n      loading = props.loading;\n    }\n    calculateAutoSize(loading);\n  });\n  useUpdateEffect(function () {\n    lastScrollPos.current = both ? {\n      top: 0,\n      left: 0\n    } : 0;\n  }, [props.orientation]);\n  React.useImperativeHandle(ref, function () {\n    return {\n      props: props,\n      getElementRef: getElementRef,\n      scrollTo: scrollTo,\n      scrollToIndex: scrollToIndex,\n      scrollInView: scrollInView,\n      getRenderedRange: getRenderedRange\n    };\n  });\n  var createLoaderItem = function createLoaderItem(index) {\n    var extOptions = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n    var options = loaderOptions(index, extOptions);\n    var content = ObjectUtils.getJSXElement(props.loadingTemplate, options);\n    return /*#__PURE__*/React.createElement(React.Fragment, {\n      key: index\n    }, content);\n  };\n  var createLoader = function createLoader() {\n    var iconClassName = 'p-virtualscroller-loading-icon';\n    var icon = props.loadingIcon || /*#__PURE__*/React.createElement(SpinnerIcon, {\n      className: iconClassName,\n      spin: true\n    });\n    var loadingIcon = IconUtils.getJSXIcon(icon, {\n      className: iconClassName\n    }, {\n      props: props\n    });\n    if (!props.loaderDisabled && props.showLoader && loadingState) {\n      var className = classNames('p-virtualscroller-loader', {\n        'p-component-overlay': !props.loadingTemplate\n      });\n      var content = loadingIcon;\n      if (props.loadingTemplate) {\n        content = loaderArrState.map(function (_, index) {\n          return createLoaderItem(index, both && {\n            numCols: numItemsInViewportState.cols\n          });\n        });\n      } else if (props.loaderIconTemplate) {\n        var defaultContentOptions = {\n          iconClassName: iconClassName,\n          element: content,\n          props: props\n        };\n        content = ObjectUtils.getJSXElement(props.loaderIconTemplate, defaultContentOptions);\n      }\n      return /*#__PURE__*/React.createElement(\"div\", {\n        className: className\n      }, content);\n    }\n    return null;\n  };\n  var createSpacer = function createSpacer() {\n    if (props.showSpacer) {\n      return /*#__PURE__*/React.createElement(\"div\", {\n        ref: _spacerRef,\n        style: spacerStyle.current,\n        className: \"p-virtualscroller-spacer\"\n      });\n    }\n    return null;\n  };\n  var createItem = function createItem(item, index) {\n    var options = getOptions(index);\n    var content = ObjectUtils.getJSXElement(props.itemTemplate, item, options);\n    return /*#__PURE__*/React.createElement(React.Fragment, {\n      key: options.index\n    }, content);\n  };\n  var createItems = function createItems() {\n    var items = loadedItems();\n    return items.map(createItem);\n  };\n  var createContent = function createContent() {\n    var items = createItems();\n    var className = classNames('p-virtualscroller-content', {\n      'p-virtualscroller-loading': loadingState\n    });\n    var content = /*#__PURE__*/React.createElement(\"div\", {\n      ref: _contentRef,\n      style: contentStyle.current,\n      className: className\n    }, items);\n    if (props.contentTemplate) {\n      var defaultOptions = {\n        style: contentStyle.current,\n        className: className,\n        spacerStyle: spacerStyle.current,\n        contentRef: function contentRef(el) {\n          return _contentRef.current = ObjectUtils.getRefElement(el);\n        },\n        spacerRef: function spacerRef(el) {\n          return _spacerRef.current = ObjectUtils.getRefElement(el);\n        },\n        stickyRef: function stickyRef(el) {\n          return _stickyRef.current = ObjectUtils.getRefElement(el);\n        },\n        items: loadedItems(),\n        getItemOptions: function getItemOptions(index) {\n          return getOptions(index);\n        },\n        children: items,\n        element: content,\n        props: props,\n        loading: loadingState,\n        getLoaderOptions: function getLoaderOptions(index, ext) {\n          return loaderOptions(index, ext);\n        },\n        loadingTemplate: props.loadingTemplate,\n        itemSize: props.itemSize,\n        rows: getRows(),\n        columns: getColumns(),\n        vertical: vertical,\n        horizontal: horizontal,\n        both: both\n      };\n      return ObjectUtils.getJSXElement(props.contentTemplate, defaultOptions);\n    }\n    return content;\n  };\n  if (props.disabled) {\n    var content = ObjectUtils.getJSXElement(props.contentTemplate, {\n      items: props.items,\n      rows: props.items,\n      columns: props.columns\n    });\n    return /*#__PURE__*/React.createElement(React.Fragment, null, props.children, content);\n  } else {\n    var otherProps = VirtualScrollerBase.getOtherProps(props);\n    var className = classNames('p-virtualscroller', {\n      'p-virtualscroller-inline': props.inline,\n      'p-virtualscroller-both p-both-scroll': both,\n      'p-virtualscroller-horizontal p-horizontal-scroll': horizontal\n    }, props.className);\n    var loader = createLoader();\n    var _content = createContent();\n    var spacer = createSpacer();\n    return /*#__PURE__*/React.createElement(\"div\", _extends({\n      ref: elementRef,\n      className: className,\n      tabIndex: props.tabIndex,\n      style: props.style\n    }, otherProps, {\n      onScroll: onScroll\n    }), _content, spacer, loader);\n  }\n}));\nVirtualScroller.displayName = 'VirtualScroller';\n\nexport { VirtualScroller };\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}